function PWAPP_SERVICE_WORKER(){var JSObject=this;this.type='pwapp_service_worker';this.form;this.DOMDoc;this.send_btn;this.init=function(){PWAPPJSInterface=window.parent.PWAPPJSInterface;this.send_btn=jQuery('#'+this.type+'_send_btn',this.DOMDoc).get(0);this.form=this.DOMDoc.getElementById(this.type+'_form');this.addButtonsActions();if(this.form==null){return}};this.addButtonsActions=function(){jQuery('#'+JSObject.type+'_installed_check',JSObject.DOMDoc).change(function(){if(this.checked){jQuery('#pwapp_option_service_worker_installed',JSObject.DOMDoc).val('1')}else{jQuery('#pwapp_option_service_worker_installed',JSObject.DOMDoc).val('0')}});jQuery(this.send_btn).unbind('click');jQuery(this.send_btn).bind('click',function(){JSObject.disableButton(this);JSObject.sendData()});JSObject.enableButton(this.send_btn);jQuery('#'+JSObject.form.id,JSObject.DOMDoc).bind('keypress',function(e){if(e.keyCode==13)return!1})};this.enableButton=function(btn){jQuery(btn).css('cursor','pointer');jQuery(btn).animate({opacity:1},100)};this.disableButton=function(btn){jQuery(btn).unbind('click');jQuery(btn).animate({opacity:0.4},100);jQuery(btn).css('cursor','default')};this.submitForm=function(){return PWAPPJSInterface.AjaxUpload.dosubmit(JSObject.form,{'onStart':JSObject.startUploadingData,'onComplete':JSObject.completeUploadingData})};this.sendData=function(){jQuery('#'+this.form.id,this.DOMDoc).unbind('submit');jQuery('#'+this.form.id,this.DOMDoc).bind('submit',function(){JSObject.submitForm()});jQuery('#'+this.form.id,this.DOMDoc).submit();JSObject.disableButton(JSObject.send_btn)};this.startUploadingData=function(){PWAPPJSInterface.Preloader.start();setTimeout(function(){var aElems=JSObject.form.elements;nElems=aElems.length;for(j=0;j<nElems;j++){aElems[j].disabled=!0}},300);return!0};this.completeUploadingData=function(response){jQuery('#'+JSObject.form.id,JSObject.DOMDoc).unbind('submit');jQuery('#'+JSObject.form.id,JSObject.DOMDoc).bind('submit',function(){return!1});PWAPPJSInterface.Preloader.remove(100);response=Boolean(Number(String(response)));if(response==!0){var message='Your app has been successfully modified!';PWAPPJSInterface.Loader.display({message:message})}else{var message='There was an error. Please reload the page and try again.';PWAPPJSInterface.Loader.display({message:message})}
setTimeout(function(){var aElems=JSObject.form.elements;nElems=aElems.length;for(j=0;j<nElems;j++){aElems[j].disabled=!1}},300);JSObject.addButtonsActions()}}
